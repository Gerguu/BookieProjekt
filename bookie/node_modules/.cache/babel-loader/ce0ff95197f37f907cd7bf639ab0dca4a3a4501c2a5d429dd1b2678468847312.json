{"ast":null,"code":"export async function SellProduct(path) {\n  function kepfeltoltes(termekid) {\n    fetch(\"https://localhost:44317/api/Kep\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        EleresiUt: path,\n        KepNev: document.getElementById(\"inputfile\").files[0].name,\n        TermekId: termekid\n      })\n    }).then(response => {\n      console.log(path);\n      if (!response.ok) {\n        if (response.status === 401) {} else {\n          throw new Error(`HTTP hiba! Státuszkód: ${response.status}`);\n        }\n      } else {\n        alert(\"Sikeres feltöltés!\");\n      }\n      //window.location.href = \"http://localhost:3000/\"\n    });\n  }\n  fetch(`https://localhost:44317/api/Konyv/cim/${document.getElementById(\"konyvvv\").value}`).then(response => {\n    return response.json();\n  }).then(data => {\n    fetch(\"https://localhost:44317/api/EladoTermek\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        Ar: document.getElementById(\"prizeinput\").value,\n        Csere: document.getElementById(\"cserebox\").checked /* ==true ? 1 : 0*/,\n        Aktiv: true,\n        FelrakasDatum: new Date().toISOString().substring(0, 10),\n        EladasDatum: \"1111-11-11\",\n        Felhasznalonev: JSON.parse(localStorage.getItem(\"user\")).Felhasznalonev,\n        KonyvId: data[0].Id\n      })\n    }).then(response => {\n      if (!response.ok) {\n        if (response.status === 401) {} else {\n          throw new Error(`HTTP hiba! Státuszkód: ${response.status}`);\n        }\n      } else {\n        alert(\"Sikeres feltöltés!\");\n      }\n      return response.json();\n    }).then(adat => {\n      kepfeltoltes(adat.Id);\n    }).catch(error => {\n      console.error(\"Hiba történt:\", error);\n      alert(\"Server hiba. Kérlek próbáld meg később!\");\n    });\n  });\n}\n_c = SellProduct;\nvar _c;\n$RefreshReg$(_c, \"SellProduct\");","map":{"version":3,"names":["SellProduct","path","kepfeltoltes","termekid","fetch","method","headers","body","JSON","stringify","EleresiUt","KepNev","document","getElementById","files","name","TermekId","then","response","console","log","ok","status","Error","alert","value","json","data","Ar","Csere","checked","Aktiv","FelrakasDatum","Date","toISOString","substring","EladasDatum","Felhasznalonev","parse","localStorage","getItem","KonyvId","Id","adat","catch","error","_c","$RefreshReg$"],"sources":["F:/NagyProjekt/bookie/src/components/assets/scripts/newproduct.js"],"sourcesContent":["export async function SellProduct(path) {\r\n    function kepfeltoltes(termekid){\r\n        fetch(\"https://localhost:44317/api/Kep\",{\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({\r\n                EleresiUt: path,\r\n                KepNev: document.getElementById(\"inputfile\").files[0].name,\r\n                TermekId: termekid\r\n              })\r\n        })\r\n        .then(response=>{\r\n            console.log(path)\r\n            if (!response.ok) {\r\n                if (response.status === 401) {\r\n                }\r\n                else {\r\n                    throw new Error(`HTTP hiba! Státuszkód: ${response.status}`)\r\n                }\r\n            }\r\n            else {\r\n                alert(\"Sikeres feltöltés!\")\r\n            }\r\n            //window.location.href = \"http://localhost:3000/\"\r\n        })\r\n    }\r\n    fetch(`https://localhost:44317/api/Konyv/cim/${document.getElementById(\"konyvvv\").value}`)\r\n        .then((response) => {\r\n            return response.json()\r\n        })\r\n        .then((data) => {\r\n            fetch(\"https://localhost:44317/api/EladoTermek\", {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({\r\n                    Ar: document.getElementById(\"prizeinput\").value,\r\n                    Csere: document.getElementById(\"cserebox\").checked/* ==true ? 1 : 0*/,\r\n                    Aktiv: true,\r\n                    FelrakasDatum: new Date().toISOString().substring(0, 10),\r\n                    EladasDatum: \"1111-11-11\",\r\n                    Felhasznalonev: JSON.parse(localStorage.getItem(\"user\")).Felhasznalonev,\r\n                    KonyvId: data[0].Id\r\n                })\r\n            })\r\n                .then((response) => {\r\n                    if (!response.ok) {\r\n                        if (response.status === 401) {\r\n                        }\r\n                        else {\r\n                            throw new Error(`HTTP hiba! Státuszkód: ${response.status}`)\r\n                        }\r\n                    }\r\n                    else {\r\n                        alert(\"Sikeres feltöltés!\")\r\n                    }\r\n                    return response.json()\r\n                })\r\n                .then(adat => {\r\n                    kepfeltoltes(adat.Id)\r\n                })\r\n                .catch((error) => {\r\n                    console.error(\"Hiba történt:\", error);\r\n                    alert(\"Server hiba. Kérlek próbáld meg később!\");\r\n                })\r\n        })\r\n\r\n\r\n}"],"mappings":"AAAA,OAAO,eAAeA,WAAWA,CAACC,IAAI,EAAE;EACpC,SAASC,YAAYA,CAACC,QAAQ,EAAC;IAC3BC,KAAK,CAAC,iCAAiC,EAAC;MACpCC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACjBC,SAAS,EAAET,IAAI;QACfU,MAAM,EAAEC,QAAQ,CAACC,cAAc,CAAC,WAAW,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI;QAC1DC,QAAQ,EAAEb;MACZ,CAAC;IACP,CAAC,CAAC,CACDc,IAAI,CAACC,QAAQ,IAAE;MACZC,OAAO,CAACC,GAAG,CAACnB,IAAI,CAAC;MACjB,IAAI,CAACiB,QAAQ,CAACG,EAAE,EAAE;QACd,IAAIH,QAAQ,CAACI,MAAM,KAAK,GAAG,EAAE,CAC7B,CAAC,MACI;UACD,MAAM,IAAIC,KAAK,CAAC,0BAA0BL,QAAQ,CAACI,MAAM,EAAE,CAAC;QAChE;MACJ,CAAC,MACI;QACDE,KAAK,CAAC,oBAAoB,CAAC;MAC/B;MACA;IACJ,CAAC,CAAC;EACN;EACApB,KAAK,CAAC,yCAAyCQ,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC,CAACY,KAAK,EAAE,CAAC,CACrFR,IAAI,CAAEC,QAAQ,IAAK;IAChB,OAAOA,QAAQ,CAACQ,IAAI,CAAC,CAAC;EAC1B,CAAC,CAAC,CACDT,IAAI,CAAEU,IAAI,IAAK;IACZvB,KAAK,CAAC,yCAAyC,EAAE;MAC7CC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACjBmB,EAAE,EAAEhB,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACY,KAAK;QAC/CI,KAAK,EAAEjB,QAAQ,CAACC,cAAc,CAAC,UAAU,CAAC,CAACiB,OAAO;QAClDC,KAAK,EAAE,IAAI;QACXC,aAAa,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC;QACxDC,WAAW,EAAE,YAAY;QACzBC,cAAc,EAAE7B,IAAI,CAAC8B,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAACH,cAAc;QACvEI,OAAO,EAAEd,IAAI,CAAC,CAAC,CAAC,CAACe;MACrB,CAAC;IACL,CAAC,CAAC,CACGzB,IAAI,CAAEC,QAAQ,IAAK;MAChB,IAAI,CAACA,QAAQ,CAACG,EAAE,EAAE;QACd,IAAIH,QAAQ,CAACI,MAAM,KAAK,GAAG,EAAE,CAC7B,CAAC,MACI;UACD,MAAM,IAAIC,KAAK,CAAC,0BAA0BL,QAAQ,CAACI,MAAM,EAAE,CAAC;QAChE;MACJ,CAAC,MACI;QACDE,KAAK,CAAC,oBAAoB,CAAC;MAC/B;MACA,OAAON,QAAQ,CAACQ,IAAI,CAAC,CAAC;IAC1B,CAAC,CAAC,CACDT,IAAI,CAAC0B,IAAI,IAAI;MACVzC,YAAY,CAACyC,IAAI,CAACD,EAAE,CAAC;IACzB,CAAC,CAAC,CACDE,KAAK,CAAEC,KAAK,IAAK;MACd1B,OAAO,CAAC0B,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;MACrCrB,KAAK,CAAC,yCAAyC,CAAC;IACpD,CAAC,CAAC;EACV,CAAC,CAAC;AAGV;AAACsB,EAAA,GAvEqB9C,WAAW;AAAA,IAAA8C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}