{"ast":null,"code":"export async function SellProduct() {\n  const {\n    google\n  } = require(\"googleapis\");\n  const auth = new google.auth.GoogleAuth({\n    keyFile: \"service-account.json\",\n    // Itt add meg az elérési utat\n    scopes: [\"https://www.googleapis.com/auth/drive\"]\n  });\n  const drive = google.drive({\n    version: \"v3\",\n    auth\n  });\n  async function listFiles() {\n    const res = await drive.files.list();\n    console.log(\"Files:\", res.data.files);\n  }\n  listFiles();\n  var konyv = fetch(`https://localhost:44317/api/Konyv/${document.getElementById(\"konyvvv\").value}`).then(response => {\n    return response.json();\n  }).then(data => {\n    fetch(\"https://localhost:44317/api/EladoTermek\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        Ar: document.getElementById(\"prizeinput\").value,\n        Csere: document.getElementById(\"cserebox\").checked /* ==true ? 1 : 0*/,\n        Aktiv: true,\n        FelrakasDatum: Date.now,\n        EladasDatum: null,\n        Felhasznalonev: JSON.parse(localStorage.getItem(\"user\")).Felhasznalonev,\n        KepId: 0,\n        Kep: {\n          Id: 0,\n          EleresiUt: \"asd\",\n          KepNev: document.getElementById(\"inputfile\").name\n        },\n        KonyvId: data.Id\n      })\n    }).then(response => {\n      if (!response.ok) {\n        if (response.status === 401) {\n          alert();\n        }\n        if (response.status === 404) {\n          alert();\n        } else {\n          throw new Error(`HTTP hiba! Státuszkód: ${response.status}`);\n        }\n      } else {\n        //console.log(response.body)\n        alert(\"Sikeres feltöltés!\");\n      }\n      return response.json();\n    }).then(data => {\n      window.location.href = \"http://localhost:3000/\";\n    }).catch(error => {\n      console.error(\"Hiba történt:\", error);\n      alert(\"Server hiba. Kérlek próbáld meg később!\");\n    });\n  });\n}\n_c = SellProduct;\nvar _c;\n$RefreshReg$(_c, \"SellProduct\");","map":{"version":3,"names":["SellProduct","google","require","auth","GoogleAuth","keyFile","scopes","drive","version","listFiles","res","files","list","console","log","data","konyv","fetch","document","getElementById","value","then","response","json","method","headers","body","JSON","stringify","Ar","Csere","checked","Aktiv","FelrakasDatum","Date","now","EladasDatum","Felhasznalonev","parse","localStorage","getItem","KepId","Kep","Id","EleresiUt","KepNev","name","KonyvId","ok","status","alert","Error","window","location","href","catch","error","_c","$RefreshReg$"],"sources":["F:/NagyProjekt/bookie/src/components/assets/scripts/newproduct.js"],"sourcesContent":["export async function SellProduct() {\r\n    const { google } = require(\"googleapis\");\r\n    const auth = new google.auth.GoogleAuth({\r\n        keyFile: \"service-account.json\", // Itt add meg az elérési utat\r\n        scopes: [\"https://www.googleapis.com/auth/drive\"],\r\n    });\r\n\r\n    const drive = google.drive({ version: \"v3\", auth });\r\n\r\n    async function listFiles() {\r\n        const res = await drive.files.list();\r\n        console.log(\"Files:\", res.data.files);\r\n    }\r\n\r\n    listFiles();\r\n    var konyv = fetch(`https://localhost:44317/api/Konyv/${document.getElementById(\"konyvvv\").value}`)\r\n        .then((response) => {\r\n            return response.json()\r\n        })\r\n        .then((data) => {\r\n            fetch(\"https://localhost:44317/api/EladoTermek\", {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({\r\n                    Ar: document.getElementById(\"prizeinput\").value,\r\n                    Csere: document.getElementById(\"cserebox\").checked/* ==true ? 1 : 0*/,\r\n                    Aktiv: true,\r\n                    FelrakasDatum: Date.now,\r\n                    EladasDatum: null,\r\n                    Felhasznalonev: JSON.parse(localStorage.getItem(\"user\")).Felhasznalonev,\r\n                    KepId: 0,\r\n                    Kep: {\r\n                        Id: 0,\r\n                        EleresiUt: \"asd\",\r\n                        KepNev: document.getElementById(\"inputfile\").name\r\n                    },\r\n                    KonyvId: data.Id\r\n                })\r\n            })\r\n                .then((response) => {\r\n                    if (!response.ok) {\r\n                        if (response.status === 401) {\r\n                            alert()\r\n                        }\r\n                        if (response.status === 404) {\r\n                            alert()\r\n                        }\r\n                        else {\r\n                            throw new Error(`HTTP hiba! Státuszkód: ${response.status}`)\r\n                        }\r\n                    }\r\n                    else {\r\n                        //console.log(response.body)\r\n                        alert(\"Sikeres feltöltés!\")\r\n                    }\r\n                    return response.json()\r\n\r\n                })\r\n                .then(data => {\r\n                    window.location.href = \"http://localhost:3000/\"\r\n                })\r\n                .catch((error) => {\r\n                    console.error(\"Hiba történt:\", error);\r\n                    alert(\"Server hiba. Kérlek próbáld meg később!\");\r\n                })\r\n        })\r\n\r\n\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}